<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게임스토리 (GameStory) - 시나리오 매칭 플랫폼</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="landing" class="page active">
        <div class="gnb">
            <div class="logo" onclick="showPage('landing')">📖 GameStory</div>
            <div class="gnb-right">
                <a class="gnb-link" onclick="showPage('makers')">팀원 찾기</a>
                <a class="gnb-link" onclick="showPage('dashboard')">대시보드</a>
                <img src="https://static.nid.naver.com/oauth/g_E_B.PNG" height="40" alt="네이버 로그인" style="cursor:pointer;" onclick="serverLogin()">
            </div>
        </div>
        
        <div class="landing">
            <div class="landing-content">
                <h1>시나리오 작가를 위한 매칭 플랫폼</h1>
                <p>아이디어만 있다면 누구나 게임을 만들 수 있습니다</p>
                
                <button class="btn-primary" onclick="showPage('create')">
                    시나리오 작성하기
                </button>
                
                <div class="search-section">
                    <div class="search-row">
                        <input type="text" id="titleSearchInput" class="search-input" placeholder="프로젝트 제목 검색...">
                        <input type="text" id="keywordSearchInput" class="search-input" placeholder="키워드 (예: #Unity, #로그라이크)">
                        <select id="genreSearchSelect" class="search-select">
                            <option value="">모든 장르</option>
                            <option value="rpg">RPG</option>
                            <option value="action">액션</option>
                            <option value="puzzle">퍼즐</option>
                            <option value="시뮬레이션">시뮬레이션</option>
                            <option value="어드벤처">어드벤처</option>
                        </select>
                        <button class="search-btn" onclick="searchProjects()">검색</button>
                    </div>
                </div>
                
                <div class="projects-grid">
                    </div>
            </div>
        </div>
    </div>
    
    <div id="detail" class="page detail-page">
        <div class="gnb">
            <div class="logo" onclick="showPage('landing')">📖 GameStory</div>
            <div class="gnb-right">
                <a class="gnb-link" onclick="showPage('makers')">팀원 찾기</a>
                <a class="gnb-link" onclick="showPage('dashboard')">대시보드</a>
                <img src="https://static.nid.naver.com/oauth/g_E_B.PNG" height="40" alt="네이버 로그인" style="cursor:pointer;" onclick="serverLogin()">
            </div>
        </div>
        
        <div class="detail-content">
            <div class="detail-header">
                <h1 id="detailTitle">픽셀 던전 RPG</h1>
                <div class="meta" id="detailMeta">🎮 RPG · 팀원 3/5 · 모집중</div>
                
                <div class="button-group" style="margin-top: 20px; justify-content: space-between;">
                    <button class="btn-submit" onclick="showApplicationModal()">
                        지원하기
                    </button>
                    <div>
                        <button class="btn-secondary" onclick="editProject()">수정</button>
                        <button class="btn-secondary btn-danger" onclick="deleteProject()">삭제</button>
                    </div>
                </div>
            </div>
            
            <div class="detail-tabs">
                <button class="tab-btn active" onclick="switchTab('overview')">개요</button>
                <button class="tab-btn" onclick="switchTab('team')">팀 구성</button>
                <button class="tab-btn" onclick="switchTab('comments')">댓글</button>
            </div>
            
            <div id="tab-overview" class="detail-section">
                <h3>프로젝트 소개</h3>
                <p id="detailDescription">레트로 감성의 로그라이크 던전 탐험 게임입니다.</p>
                
                <h3 style="margin-top: 32px;">핵심 시스템</h3>
                <p>• 절차적 던전 생성<br>• 아이템 조합 시스템<br>• 턴제 전략 전투</p>
            </div>
            
            <div id="tab-team" class="detail-section" style="display: none;">
                <h3>필요한 역할</h3>
                <div class="role-card">개발자 (1명) - Unity/C# 경험자</div>
                <div class="role-card">아티스트 (1명) - 픽셀 아트 가능자</div>
            </div>
            
            <div id="tab-comments" class="detail-section" style="display: none;">
                <h3>댓글</h3>
                <div id="commentsList">
                    <div class="comment">
                        <div class="comment-header">
                            <div>
                                <span class="comment-author">김유저</span>
                                <span class="comment-time"> · 2시간 전</span>
                            </div>
                            <button class="comment-delete" onclick="deleteComment(this)">삭제</button>
                        </div>
                        <div class="comment-text">정말 재미있는 아이디어네요!</div>
                        
                        <div class="comment-footer">
                            <button class="btn-reply" onclick="showReplyInput(this)">답글 달기</button>
                        </div>
                        
                        <div class="reply-input-section">
                            <textarea class="comment-input" rows="3" placeholder="답글을 입력하세요..."></textarea>
                            <button class="btn-submit small-btn" onclick="addReply(this)">답글 등록</button>
                        </div>
                        
                        <div class="comment-reply">
                            <div class="comment-header">
                                <div>
                                    <span class="comment-author">글쓴이 (박기획)</span>
                                    <span class="comment-time"> · 1시간 전</span>
                                </div>
                                <button class="comment-delete" onclick="deleteComment(this)">삭제</button>
                            </div>
                            <div class="comment-text">감사합니다! 함께하실 생각 있으신가요?</div>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin-top: 32px;">댓글 작성</h3>
                <textarea class="comment-input" id="commentInput" placeholder="댓글을 입력하세요..."></textarea>
                <button class="btn-submit" onclick="addComment()">댓글 등록</button>
            </div>
        </div>
    </div>
    
    <div id="makers" class="page makers-page">
        <div class="gnb">
            <div class="logo" onclick="showPage('landing')">📖 GameStory</div>
            </div>
        
        <div class="makers-content">
            <h1>팀원 찾기</h1>
            
            <div class="makers-grid">
                </div>
        </div>
    </div>
    
    <div id="dashboard" class="page dashboard-page">
        <div class="gnb">
            <div class="logo" onclick="showPage('landing')">📖 GameStory</div>
             </div>
        
        <div class="dashboard-content">
            <h1>대시보드</h1>
            
            <div class="dashboard-tabs">
                <button class="tab-btn active" onclick="switchDashboardTab('profile')">내 프로필</button>
                <button class="tab-btn" onclick="switchDashboardTab('applications')">지원 현황</button>
                <button class="tab-btn" onclick="switchDashboardTab('myprojects')">내 프로젝트 관리</button>
            </div>
            
            <div id="dashboard-profile" class="profile-section">
                <div class="profile-header">
                    <div class="profile-avatar">👤</div>
                    <div class="profile-info">
                        <h2>홍길동</h2>
                        <p>게임 개발자 · Unity 전문</p>
                    </div>
                </div>
                
                <h3>자기소개</h3>
                <p>5년차 게임 개발자입니다. Unity와 C#을 전문으로 합니다.</p>

                <h3 style="margin-top: 32px;">포트폴리오</h3>
                <div class="portfolio-section">
                    <div class="form-group">
                        <label>포트폴리오 링크</label>
                        <div class="form-guide">💡 Notion, GitHub, ArtStation 등</div>
                        <input type="text" id="portfolioLink" placeholder="https://...">
                    </div>
                    <div class="form-group">
                        <label>포트폴리오 설명</label>
                        <textarea id="portfolioDesc" rows="5" placeholder="포트폴리오에 대한 간략한 설명을 적어주세요."></textarea>
                    </div>
                    <button class="btn-submit" style="margin-top: 12px;" onclick="saveProfile()">프로필 저장하기</button>
                </div>
            </div>
            
            <div id="dashboard-applications" class="profile-section" style="display: none;">
                <h3>지원 현황</h3>
                <p>내가 지원한 프로젝트 목록입니다.</p>
                <div class="application-card">
                    <div class="application-header">
                        <div>
                            <div class="application-title">픽셀 던전 RPG</div>
                            <div class="application-meta">개발자 포지션</div>
                        </div>
                        <span class="status-badge status-pending">대기중</span>
                    </div>
                </div>
            </div>

            <div id="dashboard-myprojects" class="profile-section" style="display: none;">
                <h3>내 프로젝트 관리</h3>
                <p>내가 게시한 프로젝트의 지원자 목록입니다.</p>
                
                <div class="application-card">
                    <div class="application-header">
                        <div>
                            <div class="application-title">픽셀 던전 RPG</div>
                            <div class="application-meta">총 2명 지원</div>
                        </div>
                    </div>
                    <div class="applicant-list">
                        <div class="applicant-item">
                            <div>
                                <span class="comment-author">김개발</span> (개발자)
                                <p class="applicant-message">"Unity 5년차입니다. 꼭 함께하고 싶습니다!"</p>
                            </div>
                            <div class="button-group">
                                <button class="btn-submit small-btn" onclick="manageApplication('accept')">수락</button>
                                <button class="btn-secondary small-btn" onclick="manageApplication('reject')">거절</button>
                            </div>
                        </div>
                         <div class="applicant-item">
                            <div>
                                <span class="comment-author">이아트</span> (아티스트)
                                <p class="applicant-message">"픽셀 아트 포트폴리오입니다: https://..."</p>
                            </div>
                            <div class="button-group">
                                <button class="btn-submit small-btn" onclick="manageApplication('accept')">수락</button>
                                <button class="btn-secondary small-btn" onclick="manageApplication('reject')">거절</button>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
    
    <div id="create" class="page create-page">
        <div class="gnb">
            <div class="logo" onclick="showPage('landing')">📖 GameStory</div>
        </div>
        
        <div class="create-content">
            <h1>새 시나리오 작성하기</h1>
            
            <div class="section ai-section">
                <div class="ai-header">
                    <div class="ai-icon">🤖</div>
                    <div>
                        <h3>AI 시나리오 분석</h3>
                        <p>간단한 아이디어만 입력하면 AI가 게임 기획을 도와드려요</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>게임 아이디어를 자유롭게 적어주세요</label>
                    <div class="form-guide">💡 예: "좀비 아포칼립스 세상에서 살아남는 생존 게임"</div>
                    <textarea id="scenarioInput" rows="6" placeholder="게임 아이디어, 스토리, 컨셉 등을 자유롭게 작성해주세요..."></textarea>
                </div>
                
                <button class="btn-ai" onclick="analyzeScenario()" id="analyzeBtn">
                    <span class="btn-icon">✨</span>
                    AI 분석 시작하기
                </button>
                
                <div id="aiAnalysisResult" class="ai-result" style="display: none;">
                    <div class="ai-thinking" id="aiThinking" style="display: none;">
                        <div class="thinking-animation">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <p>AI가 분석 중입니다...</p>
                    </div>
                    
                    <div id="aiQuestions" class="ai-questions" style="display: none;">
                        <h4>🎯 AI 추가 질문</h4>
                        <p class="ai-subtitle">더 구체적인 기획을 위해 몇 가지 질문할게요!</p>
                        <div id="questionsList"></div>
                        
                        <button class="btn-submit" onclick="generateGDD()" style="margin-top: 20px;">
                            최종 기획서 생성하기
                        </button>
                    </div>
                    
                    <div id="finalGDD" class="final-gdd" style="display: none;">
                        <h4>📋 AI 생성 기획서</h4>
                        <div id="gddContent" class="gdd-content"></div>
                        
                        <div class="button-group" style="margin-top: 24px;">
                            <button class="btn-secondary" onclick="resetAI()">다시 작성하기</button>
                            <button class="btn-submit" onclick="saveAndContinue()">이 내용으로 계속하기</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="divider-section">
                <div class="divider-line"></div>
                <span class="divider-text">또는</span>
                <div class="divider-line"></div>
            </div>
            
            <div class="section">
                <h3>직접 장르 선택하기</h3>
                <p>템플릿을 사용해서 직접 기획서를 작성하실 수 있어요</p>
                <select id="genreSelect" onchange="changeGenre()">
                    <option value="">장르를 선택하세요...</option>
                    <option value="rpg">🎮 RPG</option>
                    <option value="visual-novel">📖 비주얼 노벨</option>
                    <option value="puzzle">🧩 퍼즐/전략</option>
                </select>
            </div>
            
            <div id="formSection" class="section" style="display: none;">
                <h3>2. 기획서 작성</h3>
                
                <div id="emptyState" class="empty-state">
                    <div class="icon">👆</div>
                    <h3>먼저 장르를 선택해주세요</h3>
                </div>
                
                <div id="rpgTemplate" class="genre-template">
                    <div class="template-header rpg">
                        <div class="template-icon">🎮</div>
                        <div>
                            <div class="template-title">RPG GDD 템플릿</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>게임 제목</label>
                        <div class="form-guide">💡 프로젝트의 매력을 담은 제목</div>
                        <input type="text" placeholder="예: 픽셀 던전 RPG">
                    </div>
                    
                    <div class="form-group">
                        <label>한 줄 요약</label>
                        <input type="text" placeholder="예: 레트로 감성의 로그라이크 던전 탐험 게임">
                    </div>
                    
                    <div class="form-group">
                        <label>핵심 컨셉</label>
                        <textarea rows="4" placeholder="게임의 독특한 매력을 설명해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>전투 시스템</label>
                        <textarea rows="5" placeholder="전투 방식을 설명해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>성장 시스템</label>
                        <textarea rows="5" placeholder="캐릭터 성장 방식을 설명해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>세계관 및 스토리</label>
                        <textarea rows="6" placeholder="게임의 배경과 스토리를 설명해주세요"></textarea>
                    </div>
                </div>
                
                <div id="visual-novelTemplate" class="genre-template">
                    <div class="template-header visual-novel">
                        <div class="template-icon">📖</div>
                        <div>
                            <div class="template-title">비주얼 노벨 GDD 템플릿</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>게임 제목</label>
                        <input type="text" placeholder="예: 벚꽃이 지던 날">
                    </div>
                    
                    <div class="form-group">
                        <label>시놉시스</label>
                        <textarea rows="6" placeholder="전체 줄거리를 요약해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>등장인물</label>
                        <textarea rows="6" placeholder="주요 캐릭터를 소개해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>분기 및 엔딩</label>
                        <textarea rows="4" placeholder="엔딩 구조를 설명해주세요"></textarea>
                    </div>
                </div>
                
                <div id="puzzleTemplate" class="genre-template">
                    <div class="template-header puzzle">
                        <div class="template-icon">🧩</div>
                        <div>
                            <div class="template-title">퍼즐/전략 GDD 템플릿</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>게임 제목</label>
                        <input type="text" placeholder="예: 블록 매치 팩토리">
                    </div>
                    
                    <div class="form-group">
                        <label>핵심 게임플레이</label>
                        <textarea rows="5" placeholder="플레이어가 무엇을 하는지 설명해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>퍼즐 메카닉</label>
                        <textarea rows="5" placeholder="규칙과 전략을 설명해주세요"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>난이도 곡선</label>
                        <textarea rows="5" placeholder="게임이 어떻게 어려워지는지 설명해주세요"></textarea>
                    </div>
                </div>
            </div>
            
            <div id="buttonGroup" class="button-group" style="display: none;">
                <button class="btn-secondary" onclick="showPage('landing')">취소</button>
                <button class="btn-submit" onclick="submitProject()">게시하기</button>
            </div>
        </div>
    </div>
    
    <div id="applicationModal" class="modal">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h3>프로젝트 지원하기</h3>
            
            <div class="form-group">
                <label>지원 포지션</label>
                <select id="applicationPosition">
                    <option value="">포지션 선택</option>
                    <option value="개발자">개발자</option>
                    <option value="아티스트">아티스트</option>
                    <option value="디자이너">디자이너</option>
                    <option value="기획자">기획자</option>
                    <option value="사운드">사운드</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>지원 메시지</label>
                <textarea id="applicationMessage" rows="6" placeholder="자신의 경험과 포트폴리오 링크를 작성해주세요"></textarea>
            </div>
            
            <div class="button-group">
                <button class="btn-secondary" onclick="closeApplicationModal()">취소</button>
                <button class="btn-submit" onclick="submitApplication()">지원하기</button>
            </div>
        </div>
    </div>
    
    <div id="makerDetailModal" class="maker-detail-modal" onclick="closeMakerDetail()">
        <div class="maker-detail-content" onclick="event.stopPropagation()">
            <div class="maker-detail-header">
                <div class="maker-avatar">👤</div>
                <div class="maker-detail-info">
                    <h3 id="makerDetailName">김개발</h3>
                    <div class="maker-detail-role" id="makerDetailRole">개발자</div>
                </div>
            </div>
            
            <div class="maker-detail-section">
                <h4>소개</h4>
                <p id="makerDetailBio">Unity와 C# 경험 5년차 게임 개발자입니다.</p>
            </div>
            
            <div class="maker-detail-section">
                <h4>스킬</h4>
                <div class="maker-skills" id="makerDetailSkills">
                    <span class="skill-tag">Unity</span>
                    <span class="skill-tag">C#</span>
                </div>
            </div>
            
            <div class="maker-detail-section">
                <h4>경력 및 포트폴리오</h4>
                <p id="makerDetailExperience">경력: 5년</p>
                <p id="makerDetailPortfolio" style="margin-top: 8px;">10개 이상의 출시 게임 개발 경험</p>
            </div>
            
            <div class="maker-detail-section">
                <h4>참여 가능 여부</h4>
                <p id="makerDetailAvailability"><span style="color: #4caf50;">✓ 현재 팀 참여 가능</span></p>
            </div>
            
            <button class="contact-btn" onclick="contactMaker()">연락하기</button>
        </div>
    </div>
    
    <div class="page-nav">
        <button class="nav-btn active" onclick="showPage('landing')">메인</button>
        <button class="nav-btn" onclick="showPage('makers')">팀원</button>
        <button class="nav-btn" onclick="showPage('create')">만들기</button>
        <button class="nav-btn" onclick="showPage('dashboard')">대시보드</button>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
